{"abi":[{"type":"function","name":"MAX_PROTOCOL_FEE","inputs":[],"outputs":[{"name":"","type":"uint16","internalType":"uint16"}],"stateMutability":"view"}],"bytecode":{"object":"0x60626032600b8282823980515f1a607314602657634e487b7160e01b5f525f60045260245ffd5b305f52607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106032575f3560e01c8063b8ca3b83146036575b5f80fd5b603e6103e881565b60405161ffff909116815260200160405180910390f3fea164736f6c634300081a000a","sourceMap":"115:1997:95:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;115:1997:95;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600436106032575f3560e01c8063b8ca3b83146036575b5f80fd5b603e6103e881565b60405161ffff909116815260200160405180910390f3fea164736f6c634300081a000a","sourceMap":"115:1997:95:-:0;;;;;;;;;;;;;;;;;;;;;;;;274:46;;316:4;274:46;;;;;196:6:255;184:19;;;166:38;;154:2;139:18;274:46:95;;;;;;","linkReferences":{}},"methodIdentifiers":{"MAX_PROTOCOL_FEE()":"b8ca3b83"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"MAX_PROTOCOL_FEE\",\"outputs\":[{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"stateVariables\":{\"MAX_PROTOCOL_FEE\":{\"details\":\"Increasing these values could lead to overflow in Pool.swap\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"MAX_PROTOCOL_FEE()\":{\"notice\":\"Max protocol fee is 0.1% (1000 pips)\"}},\"notice\":\"library of functions related to protocol fees\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v4-periphery/lib/v4-core/src/libraries/ProtocolFeeLibrary.sol\":\"ProtocolFeeLibrary\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":21000},\"remappings\":[\":@ensdomains/=lib/v4-periphery/lib/v4-core/node_modules/@ensdomains/\",\":@openzeppelin/=lib/v4-periphery/lib/v4-core/lib/openzeppelin-contracts/\",\":@uniswap/v4-core/=lib/v4-periphery/lib/v4-core/\",\":core/src/=src/\",\":ds-test/=lib/solmate/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":hardhat/=lib/v4-periphery/lib/v4-core/node_modules/hardhat/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":permit2/=lib/v4-periphery/lib/permit2/\",\":solady/src/=lib/solady/src/\",\":solmate/=lib/solmate/\",\":super-sol/=lib/super-sol/src/\",\":transient-goodies/=lib/transient-goodies/src/\",\":v4-core/src/=lib/v4-periphery/lib/v4-core/src/\",\":v4-periphery/src/=lib/v4-periphery/src/\"]},\"sources\":{\"lib/v4-periphery/lib/v4-core/src/libraries/ProtocolFeeLibrary.sol\":{\"keccak256\":\"0xf483001899229ab10f5a626fe1c5866134d9e965b48ce6cf55ce0d7f74f7d8ec\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6ba9211a7f69bbb44649c35211eb29d193c09032ec600064ef9d04b4625dd8ba\",\"dweb:/ipfs/QmQSjQvtguYgMJSkkKRhHjxasfX9xfTbrbcZ1QmjUVb787\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_PROTOCOL_FEE","outputs":[{"internalType":"uint16","name":"","type":"uint16"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"MAX_PROTOCOL_FEE()":{"notice":"Max protocol fee is 0.1% (1000 pips)"}},"version":1}},"settings":{"remappings":["@ensdomains/=lib/v4-periphery/lib/v4-core/node_modules/@ensdomains/","@openzeppelin/=lib/v4-periphery/lib/v4-core/lib/openzeppelin-contracts/","@uniswap/v4-core/=lib/v4-periphery/lib/v4-core/","core/src/=src/","ds-test/=lib/solmate/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/v4-periphery/lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","hardhat/=lib/v4-periphery/lib/v4-core/node_modules/hardhat/","openzeppelin-contracts/=lib/openzeppelin-contracts/","permit2/=lib/v4-periphery/lib/permit2/","solady/src/=lib/solady/src/","solmate/=lib/solmate/","super-sol/=lib/super-sol/src/","transient-goodies/=lib/transient-goodies/src/","v4-core/src/=lib/v4-periphery/lib/v4-core/src/","v4-periphery/src/=lib/v4-periphery/src/"],"optimizer":{"enabled":true,"runs":21000},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"lib/v4-periphery/lib/v4-core/src/libraries/ProtocolFeeLibrary.sol":"ProtocolFeeLibrary"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/v4-periphery/lib/v4-core/src/libraries/ProtocolFeeLibrary.sol":{"keccak256":"0xf483001899229ab10f5a626fe1c5866134d9e965b48ce6cf55ce0d7f74f7d8ec","urls":["bzz-raw://6ba9211a7f69bbb44649c35211eb29d193c09032ec600064ef9d04b4625dd8ba","dweb:/ipfs/QmQSjQvtguYgMJSkkKRhHjxasfX9xfTbrbcZ1QmjUVb787"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/v4-periphery/lib/v4-core/src/libraries/ProtocolFeeLibrary.sol","id":63643,"exportedSymbols":{"ProtocolFeeLibrary":[63642]},"nodeType":"SourceUnit","src":"32:2081:95","nodes":[{"id":63572,"nodeType":"PragmaDirective","src":"32:23:95","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":63642,"nodeType":"ContractDefinition","src":"115:1997:95","nodes":[{"id":63577,"nodeType":"VariableDeclaration","src":"274:46:95","nodes":[],"constant":true,"documentation":{"id":63574,"nodeType":"StructuredDocumentation","src":"148:121:95","text":"@notice Max protocol fee is 0.1% (1000 pips)\n @dev Increasing these values could lead to overflow in Pool.swap"},"functionSelector":"b8ca3b83","mutability":"constant","name":"MAX_PROTOCOL_FEE","nameLocation":"297:16:95","scope":63642,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":63575,"name":"uint16","nodeType":"ElementaryTypeName","src":"274:6:95","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"value":{"hexValue":"31303030","id":63576,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"316:4:95","typeDescriptions":{"typeIdentifier":"t_rational_1000_by_1","typeString":"int_const 1000"},"value":"1000"},"visibility":"public"},{"id":63581,"nodeType":"VariableDeclaration","src":"404:47:95","nodes":[],"constant":true,"documentation":{"id":63578,"nodeType":"StructuredDocumentation","src":"327:72:95","text":"@notice Thresholds used for optimized bounds checks on protocol fees"},"mutability":"constant","name":"FEE_0_THRESHOLD","nameLocation":"429:15:95","scope":63642,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":63579,"name":"uint24","nodeType":"ElementaryTypeName","src":"404:6:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"value":{"hexValue":"31303031","id":63580,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"447:4:95","typeDescriptions":{"typeIdentifier":"t_rational_1001_by_1","typeString":"int_const 1001"},"value":"1001"},"visibility":"internal"},{"id":63586,"nodeType":"VariableDeclaration","src":"457:53:95","nodes":[],"constant":true,"mutability":"constant","name":"FEE_1_THRESHOLD","nameLocation":"482:15:95","scope":63642,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":63582,"name":"uint24","nodeType":"ElementaryTypeName","src":"457:6:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"value":{"commonType":{"typeIdentifier":"t_rational_4100096_by_1","typeString":"int_const 4100096"},"id":63585,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"31303031","id":63583,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"500:4:95","typeDescriptions":{"typeIdentifier":"t_rational_1001_by_1","typeString":"int_const 1001"},"value":"1001"},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"3132","id":63584,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"508:2:95","typeDescriptions":{"typeIdentifier":"t_rational_12_by_1","typeString":"int_const 12"},"value":"12"},"src":"500:10:95","typeDescriptions":{"typeIdentifier":"t_rational_4100096_by_1","typeString":"int_const 4100096"}},"visibility":"internal"},{"id":63590,"nodeType":"VariableDeclaration","src":"588:54:95","nodes":[],"constant":true,"documentation":{"id":63587,"nodeType":"StructuredDocumentation","src":"517:66:95","text":"@notice the protocol fee is represented in hundredths of a bip"},"mutability":"constant","name":"PIPS_DENOMINATOR","nameLocation":"614:16:95","scope":63642,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":63588,"name":"uint256","nodeType":"ElementaryTypeName","src":"588:7:95","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"315f3030305f303030","id":63589,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"633:9:95","typeDescriptions":{"typeIdentifier":"t_rational_1000000_by_1","typeString":"int_const 1000000"},"value":"1_000_000"},"visibility":"internal"},{"id":63605,"nodeType":"FunctionDefinition","src":"649:114:95","nodes":[],"body":{"id":63604,"nodeType":"Block","src":"719:44:95","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint24","typeString":"uint24"},"id":63601,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":63599,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":63592,"src":"743:4:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"3078666666","id":63600,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"750:5:95","typeDescriptions":{"typeIdentifier":"t_rational_4095_by_1","typeString":"int_const 4095"},"value":"0xfff"},"src":"743:12:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint24","typeString":"uint24"}],"id":63598,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"736:6:95","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":63597,"name":"uint16","nodeType":"ElementaryTypeName","src":"736:6:95","typeDescriptions":{}}},"id":63602,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"736:20:95","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":63596,"id":63603,"nodeType":"Return","src":"729:27:95"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getZeroForOneFee","nameLocation":"658:16:95","parameters":{"id":63593,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63592,"mutability":"mutable","name":"self","nameLocation":"682:4:95","nodeType":"VariableDeclaration","scope":63605,"src":"675:11:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":63591,"name":"uint24","nodeType":"ElementaryTypeName","src":"675:6:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"674:13:95"},"returnParameters":{"id":63596,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63595,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":63605,"src":"711:6:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":63594,"name":"uint16","nodeType":"ElementaryTypeName","src":"711:6:95","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"710:8:95"},"scope":63642,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":63620,"nodeType":"FunctionDefinition","src":"769:112:95","nodes":[],"body":{"id":63619,"nodeType":"Block","src":"839:42:95","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint24","typeString":"uint24"},"id":63616,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":63614,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":63607,"src":"863:4:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"hexValue":"3132","id":63615,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"871:2:95","typeDescriptions":{"typeIdentifier":"t_rational_12_by_1","typeString":"int_const 12"},"value":"12"},"src":"863:10:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint24","typeString":"uint24"}],"id":63613,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"856:6:95","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":63612,"name":"uint16","nodeType":"ElementaryTypeName","src":"856:6:95","typeDescriptions":{}}},"id":63617,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"856:18:95","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":63611,"id":63618,"nodeType":"Return","src":"849:25:95"}]},"implemented":true,"kind":"function","modifiers":[],"name":"getOneForZeroFee","nameLocation":"778:16:95","parameters":{"id":63608,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63607,"mutability":"mutable","name":"self","nameLocation":"802:4:95","nodeType":"VariableDeclaration","scope":63620,"src":"795:11:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":63606,"name":"uint24","nodeType":"ElementaryTypeName","src":"795:6:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"794:13:95"},"returnParameters":{"id":63611,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63610,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":63620,"src":"831:6:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":63609,"name":"uint16","nodeType":"ElementaryTypeName","src":"831:6:95","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"830:8:95"},"scope":63642,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":63629,"nodeType":"FunctionDefinition","src":"887:459:95","nodes":[],"body":{"id":63628,"nodeType":"Block","src":"963:383:95","nodes":[],"statements":[{"AST":{"nativeSrc":"1113:227:95","nodeType":"YulBlock","src":"1113:227:95","statements":[{"nativeSrc":"1127:62:95","nodeType":"YulVariableDeclaration","src":"1127:62:95","value":{"arguments":[{"arguments":[{"name":"self","nativeSrc":"1159:4:95","nodeType":"YulIdentifier","src":"1159:4:95"},{"kind":"number","nativeSrc":"1165:5:95","nodeType":"YulLiteral","src":"1165:5:95","type":"","value":"0xfff"}],"functionName":{"name":"and","nativeSrc":"1155:3:95","nodeType":"YulIdentifier","src":"1155:3:95"},"nativeSrc":"1155:16:95","nodeType":"YulFunctionCall","src":"1155:16:95"},{"name":"FEE_0_THRESHOLD","nativeSrc":"1173:15:95","nodeType":"YulIdentifier","src":"1173:15:95"}],"functionName":{"name":"lt","nativeSrc":"1152:2:95","nodeType":"YulIdentifier","src":"1152:2:95"},"nativeSrc":"1152:37:95","nodeType":"YulFunctionCall","src":"1152:37:95"},"variables":[{"name":"isZeroForOneFeeOk","nativeSrc":"1131:17:95","nodeType":"YulTypedName","src":"1131:17:95","type":""}]},{"nativeSrc":"1202:65:95","nodeType":"YulVariableDeclaration","src":"1202:65:95","value":{"arguments":[{"arguments":[{"name":"self","nativeSrc":"1234:4:95","nodeType":"YulIdentifier","src":"1234:4:95"},{"kind":"number","nativeSrc":"1240:8:95","nodeType":"YulLiteral","src":"1240:8:95","type":"","value":"0xfff000"}],"functionName":{"name":"and","nativeSrc":"1230:3:95","nodeType":"YulIdentifier","src":"1230:3:95"},"nativeSrc":"1230:19:95","nodeType":"YulFunctionCall","src":"1230:19:95"},{"name":"FEE_1_THRESHOLD","nativeSrc":"1251:15:95","nodeType":"YulIdentifier","src":"1251:15:95"}],"functionName":{"name":"lt","nativeSrc":"1227:2:95","nodeType":"YulIdentifier","src":"1227:2:95"},"nativeSrc":"1227:40:95","nodeType":"YulFunctionCall","src":"1227:40:95"},"variables":[{"name":"isOneForZeroFeeOk","nativeSrc":"1206:17:95","nodeType":"YulTypedName","src":"1206:17:95","type":""}]},{"nativeSrc":"1280:50:95","nodeType":"YulAssignment","src":"1280:50:95","value":{"arguments":[{"name":"isZeroForOneFeeOk","nativeSrc":"1293:17:95","nodeType":"YulIdentifier","src":"1293:17:95"},{"name":"isOneForZeroFeeOk","nativeSrc":"1312:17:95","nodeType":"YulIdentifier","src":"1312:17:95"}],"functionName":{"name":"and","nativeSrc":"1289:3:95","nodeType":"YulIdentifier","src":"1289:3:95"},"nativeSrc":"1289:41:95","nodeType":"YulFunctionCall","src":"1289:41:95"},"variableNames":[{"name":"valid","nativeSrc":"1280:5:95","nodeType":"YulIdentifier","src":"1280:5:95"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":63581,"isOffset":false,"isSlot":false,"src":"1173:15:95","valueSize":1},{"declaration":63586,"isOffset":false,"isSlot":false,"src":"1251:15:95","valueSize":1},{"declaration":63622,"isOffset":false,"isSlot":false,"src":"1159:4:95","valueSize":1},{"declaration":63622,"isOffset":false,"isSlot":false,"src":"1234:4:95","valueSize":1},{"declaration":63625,"isOffset":false,"isSlot":false,"src":"1280:5:95","valueSize":1}],"flags":["memory-safe"],"id":63627,"nodeType":"InlineAssembly","src":"1088:252:95"}]},"implemented":true,"kind":"function","modifiers":[],"name":"isValidProtocolFee","nameLocation":"896:18:95","parameters":{"id":63623,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63622,"mutability":"mutable","name":"self","nameLocation":"922:4:95","nodeType":"VariableDeclaration","scope":63629,"src":"915:11:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":63621,"name":"uint24","nodeType":"ElementaryTypeName","src":"915:6:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"914:13:95"},"returnParameters":{"id":63626,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63625,"mutability":"mutable","name":"valid","nameLocation":"956:5:95","nodeType":"VariableDeclaration","scope":63629,"src":"951:10:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":63624,"name":"bool","nodeType":"ElementaryTypeName","src":"951:4:95","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"950:12:95"},"scope":63642,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":63641,"nodeType":"FunctionDefinition","src":"1695:415:95","nodes":[],"body":{"id":63640,"nodeType":"Block","src":"1787:323:95","nodes":[],"statements":[{"AST":{"nativeSrc":"1889:215:95","nodeType":"YulBlock","src":"1889:215:95","statements":[{"nativeSrc":"1903:24:95","nodeType":"YulAssignment","src":"1903:24:95","value":{"arguments":[{"name":"self","nativeSrc":"1915:4:95","nodeType":"YulIdentifier","src":"1915:4:95"},{"kind":"number","nativeSrc":"1921:5:95","nodeType":"YulLiteral","src":"1921:5:95","type":"","value":"0xfff"}],"functionName":{"name":"and","nativeSrc":"1911:3:95","nodeType":"YulIdentifier","src":"1911:3:95"},"nativeSrc":"1911:16:95","nodeType":"YulFunctionCall","src":"1911:16:95"},"variableNames":[{"name":"self","nativeSrc":"1903:4:95","nodeType":"YulIdentifier","src":"1903:4:95"}]},{"nativeSrc":"1940:29:95","nodeType":"YulAssignment","src":"1940:29:95","value":{"arguments":[{"name":"lpFee","nativeSrc":"1953:5:95","nodeType":"YulIdentifier","src":"1953:5:95"},{"kind":"number","nativeSrc":"1960:8:95","nodeType":"YulLiteral","src":"1960:8:95","type":"","value":"0xffffff"}],"functionName":{"name":"and","nativeSrc":"1949:3:95","nodeType":"YulIdentifier","src":"1949:3:95"},"nativeSrc":"1949:20:95","nodeType":"YulFunctionCall","src":"1949:20:95"},"variableNames":[{"name":"lpFee","nativeSrc":"1940:5:95","nodeType":"YulIdentifier","src":"1940:5:95"}]},{"nativeSrc":"1982:33:95","nodeType":"YulVariableDeclaration","src":"1982:33:95","value":{"arguments":[{"name":"self","nativeSrc":"2003:4:95","nodeType":"YulIdentifier","src":"2003:4:95"},{"name":"lpFee","nativeSrc":"2009:5:95","nodeType":"YulIdentifier","src":"2009:5:95"}],"functionName":{"name":"mul","nativeSrc":"1999:3:95","nodeType":"YulIdentifier","src":"1999:3:95"},"nativeSrc":"1999:16:95","nodeType":"YulFunctionCall","src":"1999:16:95"},"variables":[{"name":"numerator","nativeSrc":"1986:9:95","nodeType":"YulTypedName","src":"1986:9:95","type":""}]},{"nativeSrc":"2028:66:95","nodeType":"YulAssignment","src":"2028:66:95","value":{"arguments":[{"arguments":[{"name":"self","nativeSrc":"2047:4:95","nodeType":"YulIdentifier","src":"2047:4:95"},{"name":"lpFee","nativeSrc":"2053:5:95","nodeType":"YulIdentifier","src":"2053:5:95"}],"functionName":{"name":"add","nativeSrc":"2043:3:95","nodeType":"YulIdentifier","src":"2043:3:95"},"nativeSrc":"2043:16:95","nodeType":"YulFunctionCall","src":"2043:16:95"},{"arguments":[{"name":"numerator","nativeSrc":"2065:9:95","nodeType":"YulIdentifier","src":"2065:9:95"},{"name":"PIPS_DENOMINATOR","nativeSrc":"2076:16:95","nodeType":"YulIdentifier","src":"2076:16:95"}],"functionName":{"name":"div","nativeSrc":"2061:3:95","nodeType":"YulIdentifier","src":"2061:3:95"},"nativeSrc":"2061:32:95","nodeType":"YulFunctionCall","src":"2061:32:95"}],"functionName":{"name":"sub","nativeSrc":"2039:3:95","nodeType":"YulIdentifier","src":"2039:3:95"},"nativeSrc":"2039:55:95","nodeType":"YulFunctionCall","src":"2039:55:95"},"variableNames":[{"name":"swapFee","nativeSrc":"2028:7:95","nodeType":"YulIdentifier","src":"2028:7:95"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":63590,"isOffset":false,"isSlot":false,"src":"2076:16:95","valueSize":1},{"declaration":63634,"isOffset":false,"isSlot":false,"src":"1940:5:95","valueSize":1},{"declaration":63634,"isOffset":false,"isSlot":false,"src":"1953:5:95","valueSize":1},{"declaration":63634,"isOffset":false,"isSlot":false,"src":"2009:5:95","valueSize":1},{"declaration":63634,"isOffset":false,"isSlot":false,"src":"2053:5:95","valueSize":1},{"declaration":63632,"isOffset":false,"isSlot":false,"src":"1903:4:95","valueSize":1},{"declaration":63632,"isOffset":false,"isSlot":false,"src":"1915:4:95","valueSize":1},{"declaration":63632,"isOffset":false,"isSlot":false,"src":"2003:4:95","valueSize":1},{"declaration":63632,"isOffset":false,"isSlot":false,"src":"2047:4:95","valueSize":1},{"declaration":63637,"isOffset":false,"isSlot":false,"src":"2028:7:95","valueSize":1}],"flags":["memory-safe"],"id":63639,"nodeType":"InlineAssembly","src":"1864:240:95"}]},"documentation":{"id":63630,"nodeType":"StructuredDocumentation","src":"1590:100:95","text":"@dev here `self` is just a single direction's protocol fee, not a packed type of 2 protocol fees"},"implemented":true,"kind":"function","modifiers":[],"name":"calculateSwapFee","nameLocation":"1704:16:95","parameters":{"id":63635,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63632,"mutability":"mutable","name":"self","nameLocation":"1728:4:95","nodeType":"VariableDeclaration","scope":63641,"src":"1721:11:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":63631,"name":"uint16","nodeType":"ElementaryTypeName","src":"1721:6:95","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":63634,"mutability":"mutable","name":"lpFee","nameLocation":"1741:5:95","nodeType":"VariableDeclaration","scope":63641,"src":"1734:12:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":63633,"name":"uint24","nodeType":"ElementaryTypeName","src":"1734:6:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"1720:27:95"},"returnParameters":{"id":63638,"nodeType":"ParameterList","parameters":[{"constant":false,"id":63637,"mutability":"mutable","name":"swapFee","nameLocation":"1778:7:95","nodeType":"VariableDeclaration","scope":63641,"src":"1771:14:95","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":63636,"name":"uint24","nodeType":"ElementaryTypeName","src":"1771:6:95","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"}],"src":"1770:16:95"},"scope":63642,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ProtocolFeeLibrary","contractDependencies":[],"contractKind":"library","documentation":{"id":63573,"nodeType":"StructuredDocumentation","src":"57:58:95","text":"@notice library of functions related to protocol fees"},"fullyImplemented":true,"linearizedBaseContracts":[63642],"name":"ProtocolFeeLibrary","nameLocation":"123:18:95","scope":63643,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":95}